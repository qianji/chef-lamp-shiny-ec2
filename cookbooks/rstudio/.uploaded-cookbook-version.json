{"recipes":[{"name":"cran.rb","path":"recipes/cran.rb","checksum":"e61ae286b0e3be8e1eea5d5d047839ae","specificity":"default"},{"name":"default.rb","path":"recipes/default.rb","checksum":"3a9aa7a0b4f22f437c2428acb46df542","specificity":"default"},{"name":"nginx.rb","path":"recipes/nginx.rb","checksum":"255d629629dc7e7c777cff7842d10e3c","specificity":"default"},{"name":"pam.rb","path":"recipes/pam.rb","checksum":"756e925ab87024c699415c96a8d50bfb","specificity":"default"},{"name":"server.rb","path":"recipes/server.rb","checksum":"5dbc4a227b143b67a56d04c306899e83","specificity":"default"},{"name":"shiny.rb","path":"recipes/shiny.rb","checksum":"31f122d4857db78d658ad70da9479044","specificity":"default"}],"definitions":[],"libraries":[],"attributes":[{"name":"default.rb","path":"attributes/default.rb","checksum":"2da261e835c51bf7dd91a04a1e6d735c","specificity":"default"}],"files":[{"name":"rstudio","path":"files/default/pam/etc/pam.d/rstudio","checksum":"87db4b110cb2031b01410017ac380857","specificity":"default"}],"templates":[{"name":"shiny-server.conf.erb","path":"templates/default/etc/init/shiny-server.conf.erb","checksum":"22a0aead7a1017975dfa9b2e72b27fed","specificity":"default"},{"name":"rstudio.conf.erb","path":"templates/default/etc/nginx/rstudio.conf.erb","checksum":"ec37044077608655cef619126335bfef","specificity":"default"},{"name":"passwd.erb","path":"templates/default/etc/rstudio/passwd.erb","checksum":"3083cee9d51e664c03be11f89bb2dd4c","specificity":"default"},{"name":"rserver.conf.erb","path":"templates/default/etc/rstudio/rserver.conf.erb","checksum":"de2ddea52fa6d2e6b32995ba87f81aa5","specificity":"default"},{"name":"rsession.conf.erb","path":"templates/default/etc/rstudio/rsession.conf.erb","checksum":"1c51315735531cbec680c005909b7cb6","specificity":"default"},{"name":"htpasswd.erb","path":"templates/default/etc/shiny-server/htpasswd.erb","checksum":"67bae661e27d569bd7642e390ccda41d","specificity":"default"},{"name":"shiny-server.conf.erb","path":"templates/default/etc/shiny-server/shiny-server.conf.erb","checksum":"02aec7f976b752f9d5da29e7bd0c6691","specificity":"default"}],"resources":[],"providers":[],"root_files":[{"name":".travis.yml","path":".travis.yml","checksum":"19ffb52a80fb78442dd5667d947f7867","specificity":"default"},{"name":"Berksfile","path":"Berksfile","checksum":"9ae4266f6fecc6568e57285943e5f0a2","specificity":"default"},{"name":"CHANGELOG.md","path":"CHANGELOG.md","checksum":"dd52d832a0c923b56e9f977b4e4a728e","specificity":"default"},{"name":"Gemfile","path":"Gemfile","checksum":"0b621d1ec614fdf176043eae1ddcd941","specificity":"default"},{"name":"metadata.rb","path":"metadata.rb","checksum":"a7422fe6504c43baf0c5282846bc0f09","specificity":"default"},{"name":"Rakefile","path":"Rakefile","checksum":"8923eeac4bab082bb7217b6d7d5f35da","specificity":"default"},{"name":"README.md","path":"README.md","checksum":"c8232afabbc7eba5a0656108cd61fa3f","specificity":"default"}],"cookbook_name":"rstudio","metadata":{"name":"rstudio","description":"Installs/Configures rstudio","long_description":"# Description\n\nThis cookbook will install RStudio Server along with some extras that will configure various usages. In addition to installing the server, it can optionally set up CRAN's distribution-specific repositories, configure various Nginx options (SSL, proxy, and alternate locations), as well as an alternative to the default PAM configuration that doe *not* rely on a local user account.\n\n* `rstudio::server` will download and configure the RServer packages.\n* `rstudio::pam` will install the PAM [pam_pwdfile](https://github.com/tiwe-de/libpam-pwdfile) module. This module allows you to define username/password combinations using the `mkpasswd` utility. This allows you to give access to RStudio Server *without* creating accounts on the server itself.\n* `rstudio::cran` will install R packages listed in `node['rstudio']['cran']['packages']` using `r_package` from the [r](https://github.com/stevendanna/cookbook-r/) cookbook.\n* `rstudio::nginx` will configure an Nginx site for RStudio. It offers the ability to proxy via a separate URL as well as basic SSL support. When coupled with `rstudio::pam`, you can give remote access to RStudio via Nginx over SSL to people *without* direct access to the server via SSH.\n* `rstudio::shiny` will install and configure the [Shiny Server](http://www.rstudio.com/shiny/server/) packages.\n\n# Requirements\n\n## Cookbooks\n\nThe following Chef cookbooks are required:\n\n* [r](https://github.com/stevendanna/cookbook-r/)\n* [apt](https://github.com/opscode-cookbooks/apt)\n* [nginx](https://github.com/opscode-cookbooks/nginx)\n* [users](https://github.com/opscode-cookbooks/users)\n\n## Platform\n\nThe following platforms are supported:\n\n* Ubuntu\n* Debian\n\nBy default RStudio and its related packages are installed via APT on Debian/Ubuntu. You can modify the default repository using the following attribributes.\n\n* `node['rstudio']['apt']['uri']` - The URI of the APT repository. Defaults to `http://cran.stat.ucla.edu/bin/linux/ubuntu` on Ubuntu and `'http://cran.stat.ucla.edu/bin/linux/debian` on Debian.\n* `node['rstudio']['apt']['key']` - The key for the distribution. Defaults to `E084DAB9` on Ubunto and `381BA480` on Debian.\n* `node['rstudio']['apt']['keyserver']` - The key server for the repository. Defaults to `keyserver.ubuntu.com` on Ubuntu and `subkeys.pgp.net` on Debian.\n\n# Attributes\n\n## rstudio::server\n\n* `node['rstudio']['server']['www_port']` - The port that RStudio Server binds to. Defaults to `8787`.\n* `node['rstudio']['server']['www_address']` - The address that RStudio Server binds to. Defaults to `127.0.0.1`\n* `node['rstudio']['server']['ld_library_path']` - The LD library path.\n* `node['rstudio']['server']['r_binary_path']` - The path to R.\n* `node['rstudio']['server']['user_group']` - User groups you'd like to restrict to. **NOTE:** The `rstudio::pam` recipe will likely ignore and/or conflict with this setting if used.\n* `node['rstudio']['session']['timeout']` - The session timeout in minutes. Defaults to `30`.\n* `node['rstudio']['session']['package_path']` - The R package path.\n* `node['rstudio']['session']['cran_repo']` - The CRAN repository to use. Defaults to `http://cran.case.edu/`.\n\nSee also: [RStudio Server: Configuring the Server](http://www.rstudio.com/ide/docs/server/configuration)\n\n## rstudio::pam\n\nThe `rstudio::pam` recipe works on top of the [users](https://github.com/opscode-cookbooks/users) cookbook, which uses data bags. In your various `users` data bags, put the following stanza in to create an RStudio account for them:\n\n```\n  \"rstudio\": {\n    \"passwd\": \"WQtdiGghp/GSU\"\n  }\n```\n\nYou can create a password with the `mkpasswd` utility.\n\n## rstudio::cran\n\n* `node['rstudio']['cran']['mirror']` - The CRAN distribution repository. Defaults to `http://cran.rstudio.com/`. This value is used to set `r-cran-repos` in `rsession.conf`.\n* `node['rstudio']['cran']['packages'] - A list of CRAN packages to install using the `r_package` LWRP from the [r](https://github.com/stevendanna/cookbook-r/) cookbook.\n\n## rstudio::nginx\n\n* `node['rstudio']['nginx']['port']` - The port to listen on. Defaults to `80`. If you specify a `node['rstudio']['ssl']['crt_file']` and `node['rstudio']['ssl']['key_file']`, this will be overridden to use `443`.\n* `node['rstudio']['nginx']['server_name']` - You **must** set a server name to utilize the Nginx recipe.\n* `node['rstudio']['nginx']['location']` - The location you'd like to proxy RStudio requests from. Defaults to `/`. You could change this to `/rstudio/` to change the location of RStudio.\n* `node['rstudio']['ssl']['crt_file']` - An SSL certificate file to use. This enables SSL.\n* `node['rstudio']['ssl']['key_file']` - Your SSL certificate's private key file.\n\n**NOTE:** The Nginx recipe does *not* use HTTP-Auth. This is because RStudio will *only* authenticate via PAM. There is no way to turn off authentication either.\n\n## rstudio::shiny\n\nInstalls and configures [Shiny Server](http://www.rstudio.com/shiny/server/). For more information see the documentation on [configuration settings](http://rstudio.github.io/shiny-server/latest/#configuration-settings).\n\n* `node['rstudio']['shiny']['user']` - The user that Shiny will run as. Defaults to `shiny`.\n* `node['rstudio']['shiny']['www_port']` - The port that Shiny will listen on. Defaults to `8100`.\n* `node['rstudio']['shiny']['www_address']` - The address that Shiny will listen on. Defaults to `127.0.0.1`.\n* `node['rstudio']['shiny']['site_dir']` - The server directory. Defaults to `/srv/shiny-server`.\n* `node['rstudio']['shiny']['log_dir']` - Where the log files will reside. Defaults to `/var/log/shiny-server`.\n* `node['rstudio']['shiny']['directory_index']` - Whether or not to turn on directory indexing. Defaults to `on`.\n* `node['rstudio']['shiny']['htpasswd_file']` - Path to the username/password file to use for [authentication](http://nginx.org/en/docs/http/ngx_http_auth_basic_module.html). Defaults to `/etc/shiny-server/htpasswd`.\n* `node['rstudio']['shiny']['htpasswd_group']` - The group to use for `node['rstudio']['shiny']['htpasswd_file']`, which requires use of the [users](https://github.com/opscode-cookbooks/users) cookbook. Defaults to `sysadmin`.\n\n# Usage\n\nThe only thing you need to watch out for is that `rstudio::cran` is listed before `rstudio::server` if you'd like to use CRAN's packages for `r-base` and other related R packages.\n\n```\n  \"run_list\": [\n    \"recipe[rstudio::cran]\",\n    \"recipe[rstudio::server]\",\n    \"recipe[rstudio::nginx]\",\n    \"recipe[rstudio::pam]\"\n  ]\n```\n\nThis is an example configuration for a role file that sets up Nginx with SSL and modifies the default path:\n\n```\n  \"default_attributes\": {\n    \"rstudio\": {\n      \"nginx\": {\n        \"server_name\": \"data.example.com\",\n        \"location\": \"/rstudio/\"\n      },\n      \"ssl\": {\n        \"crt_file\": \"/path/to/example.crt\",\n        \"key_file\": \"/path/to/example.key\"\n      }\n    },\n  }\n```\n","maintainer":"Sprint.ly, Inc.","maintainer_email":"joe@joestump.net","license":"All rights reserved","platforms":{},"dependencies":{"apt":">= 0.0.0","nginx":">= 0.0.0","r":">= 0.0.0"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{"rstudio::cran":">= 0.0.0","rstudio":">= 0.0.0","rstudio::nginx":">= 0.0.0","rstudio::pam":">= 0.0.0","rstudio::server":">= 0.0.0","rstudio::shiny":">= 0.0.0"},"replacing":{},"attributes":{},"groupings":{},"recipes":{"rstudio::cran":"","rstudio":"","rstudio::nginx":"","rstudio::pam":"","rstudio::server":"","rstudio::shiny":""},"version":"0.3.0"},"version":"0.3.0","name":"rstudio-0.3.0","frozen?":false,"chef_type":"cookbook_version","json_class":"Chef::CookbookVersion"}